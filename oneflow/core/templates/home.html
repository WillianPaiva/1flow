{% extends 'base.html' %}

{% block body_id %}home{% endblock body_id %}

{% block title %}{% trans 'Home' %}{% endblock title %}

{% block extrajs_header %}
    <link rel="stylesheet" type="text/css"
        href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">

    {% comment %}
        @import url('http://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic');
    {% endcomment %}

    {% compressed_css 'core-bootstrap-detail' %}
{% endblock extrajs_header %}

{% block body %}

{% include 'snippets/navbar.html' %}
{% include 'snippets/help-arrows.html' %}

  {% block application_header %}{% endblock application_header %}

  <section class="container-fluid">
    <div id="notifications" class="row-fluid hide"></div>
    <div class="application">
    {% block application_content %}

        {% if wizards.show_all and not wizards.welcome_beta %}
          {% include 'snippets/wizards/welcome-beta/welcome-beta.html' %}

        {% else %}
            { SHOW SUBSCRIPTIONS HERE }

        {% endif %}
    {% endblock application_content %}
    </div>
  </section>

{% endblock body %}

{% block extrajs_footer %}
    {{ block.super }}

    {# NOTE: JS inclusion order matters. #}
    {% django_js jquery=false %}

    <script type="text/javascript" src="http://cdn.jsdelivr.net/jquery.hotkeys/0.8b/jquery.hotkeys.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery-color/2.1.2/jquery.color.min.js"></script>
    <script type="text/javascript" src="http://cdn.jsdelivr.net/underscorejs/1.5.1/underscore-min.js"></script>

    {% compressed_js 'vendor-all' %}
    {#{% compressed_js 'core' %}#}

    {% csrf_token %}

    <script type="text/javascript">
        {# This must stay here (in the template) to get the server-side language. #}
        moment.lang('{{ LANGUAGE_CODE }}');

        function csrfSafeMethod(method) {
            // these HTTP methods do not require CSRF protection
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }

        $.ajaxSetup({
            crossDomain: false,
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type)) {
                    xhr.setRequestHeader("X-CSRFToken",
                        $("input[name='csrfmiddlewaretoken']").val());
                }
            }
        });
    </script>

{% endblock extrajs_footer %}
